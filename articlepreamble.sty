\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{articlepreamble}

% Draft option
\newif\if@loaddraft\@loaddraftfalse
\DeclareOption{draft}{\@loaddrafttrue}

\ProcessOptions\relax

\if@loaddraft
  \RequirePackage[firstpage]{draftwatermark}
\fi

% Fonts
\RequirePackage{fontspec}
\defaultfontfeatures{Ligatures=TeX}

% Localization
\RequirePackage[english]{babel}

% Text highlighting
\RequirePackage{soul}

% Nomenclature
\RequirePackage{nomencl}
\makenomenclature
\renewcommand{\nomname}{\makebox[\linewidth]{Nomenclature}}

% Math
\RequirePackage{amsmath,amssymb}

% Missing math commands
\providecommand{\abs}[1]{\left\lvert#1\right\rvert}                    % |.|
\providecommand{\br}[1]{\left(#1\right)}                               % (.)
\providecommand{\sbr}[1]{\left[#1\right]}                              % [.]
\providecommand{\ddfrac}[2]{\frac{\displaystyle #1}{\displaystyle #2}} % ./.

% Units
\RequirePackage{siunitx}

% Listings
\RequirePackage{listings}

% Options for listings
\lstset{
  breaklines=true,
  postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{red}\hookrightarrow\space}},
  numbers=left,
  numbersep=5pt,
  numberstyle=\tiny\color{gray},
  basicstyle=\footnotesize\ttfamily
}

% Title formatting
\RequirePackage{titling}

% Tables
\RequirePackage{booktabs,multirow,array,tabularx}

% Lists
\RequirePackage{enumitem}

% Graphics
\RequirePackage{tikz,graphicx,caption,subcaption}

% Geometry
\RequirePackage[letterpaper, margin=1in]{geometry}

% Color
\RequirePackage{xcolor}
\definecolor{blue-dark}{HTML}{29b6f6}

% References and citations
\RequirePackage[colorlinks=true,allcolors=blue-dark]{hyperref}
\RequirePackage{cleveref}

% Bibliography
\RequirePackage[backend=biber,style=numeric-comp,doi=false,isbn=false,url=false,eprint=false]{biblatex}

% Abstract keywords
\providecommand{\keywords}[1]{\noindent{\textbf{Keywords:}} #1}

% General commands
\newcommand\na{---} % N/A
